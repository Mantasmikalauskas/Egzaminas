import React,{createContext,useState} from 'react'; export const AuthContext=createContext(); export function AuthProvider({children}){ const [user,setUser]=useState(()=>{ try{ return JSON.parse(localStorage.getItem('user')); }catch{return null;} }); const login=(u,t)=>{ localStorage.setItem('token',t); localStorage.setItem('user',JSON.stringify(u)); setUser(u); }; const logout=()=>{ localStorage.removeItem('token'); localStorage.removeItem('user'); setUser(null); }; return <AuthContext.Provider value={{user,login,logout}}>{children}</AuthContext.Provider>; }